<!doctype html>
<html lang="de"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome â€“ Deine App</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen text-slate-900 selection:bg-indigo-200/70 selection:text-slate-900">
  <!-- Background -->
  <div class="fixed inset-0 -z-10">
    <div class="absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950"></div>

    <!-- soft glow blobs -->
    <div class="absolute -top-24 -left-24 h-80 w-80 rounded-full bg-indigo-500/25 blur-3xl"></div>
    <div class="absolute top-40 -right-24 h-96 w-96 rounded-full bg-cyan-400/20 blur-3xl"></div>
    <div class="absolute bottom-[-6rem] left-1/3 h-[28rem] w-[28rem] rounded-full bg-fuchsia-500/15 blur-3xl"></div>

    <!-- subtle grid -->
    <div class="absolute inset-0 opacity-[0.07]"
         style="background-image: linear-gradient(to right, rgba(255,255,255,0.35) 1px, transparent 1px),
                                 linear-gradient(to bottom, rgba(255,255,255,0.35) 1px, transparent 1px);
                background-size: 48px 48px;"></div>
  </div>

  <main class="min-h-screen flex items-center justify-center px-5 py-12">
    <div class="w-full max-w-3xl">
      <!-- Header Badge -->
      <div class="mb-6 flex items-center justify-between gap-4 flex-wrap">
        <div class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-xs font-semibold text-white/90 ring-1 ring-white/15 backdrop-blur">
          <span class="inline-block h-2 w-2 rounded-full bg-emerald-400 shadow-[0_0_12px_rgba(52,211,153,0.7)]"></span>
          Spring Boot Â· Thymeleaf Â· Tailwind
        </div>

        <!-- Auth status -->
        <div class="rounded-full bg-white/10 px-4 py-2 text-xs text-white/80 ring-1 ring-white/15 backdrop-blur">
          <span sec:authorize="isAuthenticated()">
            Eingeloggt als <span class="font-mono font-semibold text-white" sec:authentication="name">user</span>
          </span>
          <span sec:authorize="!isAuthenticated()">
            Status: <span class="font-semibold text-white">Public</span>
          </span>
        </div>
      </div>

      <!-- Main Card -->
      <div class="relative overflow-hidden rounded-3xl bg-white/10 ring-1 ring-white/15 shadow-2xl backdrop-blur-xl">
        <!-- Card accent -->
        <div class="absolute -top-32 -right-32 h-72 w-72 rounded-full bg-indigo-400/20 blur-2xl"></div>
        <div class="absolute -bottom-36 -left-36 h-80 w-80 rounded-full bg-cyan-300/15 blur-2xl"></div>

        <div class="relative p-8 md:p-12">
          <div class="flex items-start justify-between gap-8 flex-wrap">
            <div class="max-w-xl">
              <h1 class="text-3xl md:text-5xl font-extrabold tracking-tight text-white">
                Willkommen in deiner Demo-App
                <span class="align-middle">âœ¨</span>
              </h1>

              <p class="mt-4 text-base md:text-lg text-white/75 leading-relaxed">
                Ã–ffentliche Startseite mit Login/Logout-Logik â€“ ideal, um Spring Security im Unterricht
                schnell sichtbar zu machen.
              </p>

              <div class="mt-6 flex flex-wrap items-center gap-2">
                <span class="inline-flex items-center rounded-full bg-white/10 px-3 py-1 text-xs text-white/80 ring-1 ring-white/15">
                  âœ… / ist frei
                </span>
                <span class="inline-flex items-center rounded-full bg-white/10 px-3 py-1 text-xs text-white/80 ring-1 ring-white/15">
                  ðŸ”’ /einkaufsliste geschÃ¼tzt
                </span>
                <span class="inline-flex items-center rounded-full bg-white/10 px-3 py-1 text-xs text-white/80 ring-1 ring-white/15">
                  ðŸ§  Standard-User: user
                </span>
              </div>
            </div>

            <!-- Side info card -->
            <div class="w-full sm:w-auto">
              <div class="rounded-2xl bg-white/10 ring-1 ring-white/15 p-5 text-white/85">
                <div class="text-sm font-bold text-white">Schnellstart</div>
                <div class="mt-3 space-y-2 text-sm">
                  <div class="flex items-center justify-between gap-6">
                    <span class="text-white/70">User</span>
                    <span class="font-mono font-semibold text-white">user</span>
                  </div>
                  <div class="flex items-center justify-between gap-6">
                    <span class="text-white/70">Passwort</span>
                    <span class="font-mono text-white/90">im Log / properties</span>
                  </div>
                  <div class="mt-4 h-px bg-white/10"></div>
                  <p class="text-xs text-white/60">
                    Tipp: Setze <span class="font-mono text-white/80">spring.security.user.password</span> fÃ¼r feste Demos.
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Actions -->
          <div class="mt-10 flex flex-col sm:flex-row gap-3">
            <!-- Login -->
            <a sec:authorize="!isAuthenticated()"
               th:href="@{/login}"
               class="group inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-indigo-500 to-cyan-400 px-6 py-3.5 text-sm font-semibold text-slate-950 shadow-lg shadow-indigo-500/20 ring-1 ring-white/10 transition hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-white/40">
              <span>Anmelden</span>
              <span class="ml-2 transition group-hover:translate-x-0.5" aria-hidden="true">â†’</span>
            </a>

            <!-- Logout (POST) -->
            <form sec:authorize="isAuthenticated()"
                  th:action="@{/logout}" method="post"
                  class="sm:w-auto">
              <button type="submit"
                      class="group w-full inline-flex items-center justify-center rounded-2xl bg-white/10 px-6 py-3.5 text-sm font-semibold text-white ring-1 ring-white/15 backdrop-blur transition hover:bg-white/15 focus:outline-none focus:ring-2 focus:ring-white/40">
                <span>Logout</span>
                <span class="ml-2 transition group-hover:translate-x-0.5" aria-hidden="true">â†’</span>
              </button>
            </form>

            <!-- Protected area -->
            <a th:href="@{/einkaufsliste}"
               class="group inline-flex items-center justify-center rounded-2xl bg-white/10 px-6 py-3.5 text-sm font-semibold text-white ring-1 ring-white/15 backdrop-blur transition hover:bg-white/15 focus:outline-none focus:ring-2 focus:ring-white/40">
              <span>Zur Einkaufsliste</span>
              <span class="ml-2 transition group-hover:translate-x-0.5" aria-hidden="true">â†—</span>
            </a>
          </div>

          <!-- Footer note -->
          <div class="mt-10 rounded-2xl bg-white/5 ring-1 ring-white/10 p-5">
            <h2 class="text-sm font-bold text-white">Hinweis fÃ¼r den Unterricht</h2>
            <ul class="mt-3 space-y-2 text-sm text-white/70">
              <li>â€¢ Diese Seite ist Ã¶ffentlich (permitAll), geschÃ¼tzte Routes erzwingen Login.</li>
              <li>â€¢ Login/Logout werden nur passend zum Auth-Status angezeigt.</li>
              <li>â€¢ Logout lÃ¤uft per <span class="font-mono text-white/80">POST</span> (Form) â€“ das ist der sichere Standard.</li>
            </ul>
          </div>
        </div>
      </div>

      <footer class="mt-8 text-center text-xs text-white/50">
        Â© <span th:text="${#dates.format(#dates.createNow(), 'yyyy')}">2026</span> Â· Demo-App Â·
        <a class="underline underline-offset-4 hover:text-white/70 transition" th:href="@{/}">Start</a>
      </footer>
    </div>
  </main>
</body>
</html>
